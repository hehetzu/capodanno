<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Richiesta Nome</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap');
    body {
        font-family: 'Luckiest Guy', cursive, sans-serif;
        background-color: #050a18;
        background-size: cover;
        color: #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        text-align: center;
    }
    @keyframes gradientAnimation {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    h1 { font-size: 2.5em; animation: bounce 2s infinite; background: linear-gradient(180deg, #ffd60a, #ffbe0b); -webkit-background-clip: text; background-clip: text; color: transparent; -webkit-text-stroke: 2px #000; text-stroke: 2px #000; text-shadow: 3px 3px #ef476f, 6px 6px #8338ec; }
    @keyframes bounce { 0%,100%{transform:translateY(0);}50%{transform:translateY(-20px);} }
    .container {
        background-color: rgba(10, 20, 40, 0.85);
        padding: 30px;
        border-radius: 25px;
        border: 5px solid #ffbe0b;
        box-shadow: 10px 10px 0px #ffbe0b;
        width: 100%;
        max-width: 400px;
        display: flex;
        flex-direction: column;
        align-items: center;
        animation: fadeIn 2s ease;
        position: relative;
        z-index: 2;
    }
    @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
    input[type="text"] {
        font-size: 1.2em;
        padding: 10px;
        margin: 20px 0;
        border: 4px solid #000; /* Input field border remains black for contrast on white bg */
        border-radius: 10px;
        outline: none;
        transition: transform 0.3s ease-in-out;
        width: 85%;
        background-color: #fff;
        color: #000; /* Input text color is black */
        text-align: center;
    }
    input[type="text"]:focus { transform: scale(1.05); border-color: #3a86ff; }
    button { /* Stile del pulsante "Avanti" */
        background: #ffbe0b;
        color: #000; /* Text on button remains black for readability */
        border: 4px solid #000;
        padding: 15px 30px;
        font-size: 1.2em;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 6px 6px 0 #000;
    }
    button:hover { background: #ffd60a; transform: scale(1.05) translateY(-2px); box-shadow: 8px 8px 0 #000; }
    button:active { transform: scale(1) translateY(4px); box-shadow: 2px 2px 0 #000; }
    .button-container { display:flex; justify-content:center; margin-top:20px; }
    /* background canvas for fireworks and emoji rain */
    #bgCanvas { position: fixed; inset: 0; width: 100%; height: 100%; z-index: 0; pointer-events: none; display: block; }
    /* celebration headline */
    .celebration {
        position: absolute;
        top: 18px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 3;
        font-size: 2.6rem;
        background: linear-gradient(180deg, #fff, #ffd60a); -webkit-background-clip: text; background-clip: text; color: transparent;
        -webkit-text-stroke: 2px #000; text-stroke: 2px #000;
        font-weight: 800;
        letter-spacing: 1px;
        pointer-events: none;
        animation: floaty 3.6s ease-in-out infinite;
    }
    @keyframes floaty { 0% { transform: translateX(-50%) translateY(0);} 50% { transform: translateX(-50%) translateY(-8px);} 100% { transform: translateX(-50%) translateY(0);} }
</style>
</head>
<body>
<canvas id="bgCanvas"></canvas>
<div class="celebration">Buon CapodannoðŸŽ‰</div>
<div class="container">
    <h1>Benvenuto! Inserisci il tuo nome</h1>

    <form id="nameForm">
        <label for="name" style="font-size: 1.5em; color: #ffbe0b; -webkit-text-stroke: 1px #000; text-stroke: 1px #000;">Nome:</label>
        <input type="text" id="name" name="name" required>
        <div class="button-container">
            <button type="submit">Avanti</button>
        </div>
    </form>
</div>

<script>
// Funzione per gestire l'invio del nome
function checkName(event) {
    event.preventDefault();

    const userName = document.getElementById("name").value.trim();

    // Blocca se non viene inserito il nome
    if (userName.length === 0) {
        alert("Devi inserire un nome prima di procedere!");
        document.getElementById("name").focus();
        return;
    }

    const lowerName = userName.toLowerCase();

    localStorage.setItem('userName', userName);

    if (lowerName === "giulia" || lowerName === "giada"|| lowerName === "annachiara" || lowerName === "anna chiara" || lowerName === "anna") {
        window.location.href = "no.html";
    } else {
        window.location.href = "menu.html";
    }
}

// Collega la funzione al submit del form
document.getElementById('nameForm').addEventListener('submit', checkName);
</script>
<!-- Background: side fireworks + falling emoji (lightweight canvas) -->
<script>
;(function(){
    const canvas = document.getElementById('bgCanvas');
    if(!canvas) return;
    const ctx = canvas.getContext('2d');
    const DPR = window.devicePixelRatio || 1;
    function resize(){ canvas.width = Math.max(window.innerWidth,300)*DPR; canvas.height = Math.max(window.innerHeight,300)*DPR; canvas.style.width='100%'; canvas.style.height='100%'; }
    resize(); window.addEventListener('resize', resize);

    // fireworks particles (spawn only at sides)
    let fw = [];
    function randColor(){ const cols=['#ff4d4f','#ffd166','#4dd0e1','#7c4dff','#ff6f91','#ffe066']; return cols[Math.floor(Math.random()*cols.length)]; }
    function spawnFireworkSide(side){
        const w = window.innerWidth;
        const h = window.innerHeight;
        const x = side === 'left' ? (0.02 + Math.random()*0.18) * w : (0.80 + Math.random()*0.18) * w;
        const y = (0.15 + Math.random()*0.6) * h;
        const count = 20 + Math.floor(Math.random()*30);
        for(let i=0;i<count;i++){
            const a = Math.random()*Math.PI*2;
            const s = 1.5 + Math.random()*4;
            fw.push({ x:x*DPR, y:y*DPR, vx:Math.cos(a)*s, vy:Math.sin(a)*s - 1.2, born:Date.now(), life:700+Math.random()*900, color: randColor(), size:1+Math.random()*3 });
        }
    }

    // emoji rain
    const emojis = ['ðŸŽ‰','ðŸŽ†','ðŸ¥‚','ðŸŽŠ','ðŸ•›'];
    let drops = [];
    function spawnEmoji(){
        const x = Math.random() * window.innerWidth;
        const size = 18 + Math.random()*28;
        drops.push({ x: x*DPR, y: -20*DPR, vy: 0.5 + Math.random()*1.6, size: size, char: emojis[Math.floor(Math.random()*emojis.length)], born: Date.now() });
    }

    let lastFW = 0; let lastEmoji = 0;
    function loop(){
        const now = Date.now();
        // translucent fill for trails
        ctx.fillStyle = 'rgba(3,4,10,0.14)'; ctx.fillRect(0,0,canvas.width,canvas.height);

        // occasionally spawn side fireworks
        if(now - lastFW > 600 + Math.random()*1000){ spawnFireworkSide(Math.random()<0.5?'left':'right'); lastFW = now; }

        // occasionally spawn emoji drop
        if(now - lastEmoji > 250 + Math.random()*400){ spawnEmoji(); lastEmoji = now; }

        // update and draw fireworks
        fw = fw.filter(p => (now - p.born) < p.life);
        for(const p of fw){
            const age = now - p.born; const k = 1 - age / p.life; p.vy += 0.012; p.x += p.vx * DPR; p.y += p.vy * DPR; ctx.globalCompositeOperation = 'lighter'; ctx.fillStyle = p.color; ctx.beginPath(); ctx.arc(p.x, p.y, Math.max(1, p.size * k * DPR), 0, Math.PI*2); ctx.fill(); }

        // update and draw emoji drops
        ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
        for(let i=drops.length-1;i>=0;i--){ const d = drops[i]; d.vy += 0.02; d.y += d.vy * DPR; ctx.globalCompositeOperation = 'source-over'; ctx.font = `${Math.round(d.size*DPR)}px serif`; ctx.fillText(d.char, d.x, d.y);
            if(d.y > canvas.height + 100*DPR) drops.splice(i,1);
        }

        requestAnimationFrame(loop);
    }
    loop();
})();
</script>
</body>
</html>
